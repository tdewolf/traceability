<p><ac:structured-macro ac:name="toc" /></p><h3>How does DGC select the color of a node?</h3><p>A:&nbsp;The color of each node is automatically selected from a palette, based on the asset type or complex relation type. More specifically, they are based on the name and resource ID of the type.&nbsp;<br />All assets of the same type have the same color across all diagrams.&nbsp;<br />Since there are more asset types than colors in the palette, it may happen that, in the same diagram, nodes with two different types nevertheless have the same color.&nbsp;</p><h3>Why do I see so many diagram views in the dropdown list. Are they all applicable to my asset?&nbsp;</h3><p>A: You see a diagram view in the dropdown list if it is applicable to the asset and if it has been shared with you. <br />A diagram view is applicable to:</p><ul><li>Each asset of any of the asset types that occur in the diagram view</li><li>Each asset of any child asset type of any of the types that occur in the diagram view</li></ul><p><br class="_mce_tagged_br" />For example, consider this diagram view:</p><p><ac:image ac:width="700"><ri:attachment ri:filename="45_diagram_view_business_lineage.png" /></ac:image><br />The following asset types occur in the diagram view:&nbsp;</p><ul><li>Business Asset</li><li>Data Structure</li><li>Mapping Specification</li></ul><p>The diagram view applies to any asset of these types. A&nbsp;user can 'start anywhere', either from the asset page of a Business Asset, Data Structure or Mapping Specification.<br />Not only that, but inheritance of asset types plays a role too. This view applies to any asset of a child asset type of any of the three asset types mentioned above. <br />In <strong>Settings &gt; Types &gt; Asset types</strong>, you can see the tree of asset types. &nbsp;<br />For example, Business Asset has the following child asset types. &nbsp;<br /><ac:image ac:thumbnail="true" ac:width="220"><ri:attachment ri:filename="45_business_asset_child_classes.png" /></ac:image><br />&nbsp;The view is applicable to all of these, and to the child asset types of Data Structure and Mapping Specification as well.&nbsp;</p><h3>How does DGC decide which edges and nodes to include in the diagram?</h3><p>A: DGC does not simply add all relations to the diagram, it has logic to decide which relations are relevant. This logic is called the <em>t</em><em>raversal strategy</em>. <br />To understand how this works, we need to differentiate between incoming edges and outgoing edges for a node, and between flow and context nodes.&nbsp;<br />First look at flow only. &nbsp;<br />Consider the following simple diagram view: &nbsp;</p><p><ac:image ac:thumbnail="true" ac:width="300"><ri:attachment ri:filename="Screen Shot 2015-08-13 at 4.45.12 pm.png" /></ac:image></p><p>From the start node, DGC adds all directed relations, and their nodes, whose relation type occurs in the view, both in upstream (incoming) and downstream (outgoing) direction. <br />For each node that was added while traversing downstream, DGC adds all the downstream directed relations and nodes. After all, the upstream relations of a downstream node are irrelevant for the diagram of the start object. &nbsp;&nbsp;<br />Also for each upstream node that was added, DGC adds all the upstream directed relations and nodes.&nbsp;</p><p>In the diagram below, the above view has been applied to <strong>Four-wheel vehicle</strong>, to reveal the 'Groups' hierarchy. <br />Any downstream node from an upstream node (i.e. <strong>Vehicle</strong>, or <strong>Wheeled vehicle</strong>) is irrelevant for this diagram.&nbsp;</p><p><ac:image ac:width="800"><ri:attachment ri:filename="example-diagram-vehicle.png" /></ac:image></p><p>&nbsp;</p><p>But if we jump to <strong>Vehicle,</strong> we get a different diagram:&nbsp;</p><p><ac:image ac:width="800"><ri:attachment ri:filename="example-diagram-vehicle-.png" /></ac:image></p><p>Compared to the first diagram, the nodes that were upstream of <strong>Wheeled vehicle</strong>&nbsp;are removed, and the downstream&nbsp;subtree for&nbsp;<strong>Two-wheel vehicle</strong> was added. &nbsp;</p><h3>Can I set a different traversal strategy?&nbsp;</h3><p>All examples in this chapter, unless mentioned otherwise, use the default traversal strategy. We call this the&nbsp;<em>directed&nbsp;traversal strategy</em>, and could be paraphrased as 'keep on walking and don't look back'.&nbsp;<br />You can also switch the traversal strategy to <em>complete graph</em>, by always looking in all directions. Depending on your data, this could obviously lead to a much bigger diagram, with more nodes and edges.<br /><br />Going back to the above example and applying that strategy results in the following diagram:&nbsp;</p><p>&nbsp;<ac:image ac:width="800"><ri:attachment ri:filename="completeGraph.png" /></ac:image><br /><br />Note the new upstream branch of <strong>Wheeled vehicle</strong>, which is downstream from the start node. An upstream node in that branch, <strong>Wheeled object</strong>, has a downstream branch: <strong>Ferris wheel</strong>.&nbsp;<br /><br />You can switch the traversal strategy in the JSON form of the diagram view by adding the following name/value pair to the top-level diagram section</p><pre>&quot;visitStrategy&quot;: &quot;completeGraph&quot;</pre><h3>In a diagram view, I can assign each node to either the 'Flow' or 'Context' layout region. What does that do?&nbsp;</h3><p>A: The default traversal strategy ('keep on walking and don't look back') gives the required results when you depict a set of assets that are related through some kind of (data) flow or dependency. But when the relation represents a link to&nbsp;<em>context</em>&nbsp;rather than&nbsp;<em>flow</em>, the edge between two nodes should always be traversed, even if the related node is upstream of a downstream node, or vice versa. You can also regard an edge between a flow node and a context node as <em>bidirectional: </em>it is always traversed. &nbsp;</p><p>This notion will become clearer when you look at the example below.&nbsp;<br />When the flow depicts transformations of table columns, the tables that contain the columns, and the business terms that are related to them, provide context to the columns. The context nodes are always relevant, regardless of whether the column was encountered while going upstream or downstream. The context nodes are always added to the diagram.&nbsp;<br />For this traversal strategy, you can assign a node in the diagram view to be a 'context' node.&nbsp;</p><p>Consider the following example diagram view:</p><p><ac:image ac:width="700"><ri:attachment ri:filename="45_flow_view1.png" /></ac:image></p><p>This view contains flow only.&nbsp;</p><p>An example diagram for this view is below:&nbsp;<br /><ac:image ac:width="900"><ri:attachment ri:filename="45_flow_diagram1.png" /></ac:image></p><p>&nbsp;</p><p>We started from the asset in the middle (<strong>Order amount USD</strong>).</p><p>Now assume that you also want to see to which tables these columns belong.&nbsp;<br />You could add a relation from column to table to the view (in other words, a downstream edge), but this relation would only be considered on the downstream side, and if we add the column/table relation in the reverse direction, it would only be considered on the upstream side. To solve this problem, we designate the Table as a&nbsp;<em>context</em>&nbsp;node, so that the relation from Column to Table is always traversed, both for Columns that are upstream as well as downstream.&nbsp;</p><p><ac:image ac:width="700"><ri:attachment ri:filename="45_flow_view2.png" /></ac:image></p><p>&nbsp;</p><p>Resulting in the diagram below:&nbsp;<br /><ac:image ac:width="900"><ri:attachment ri:filename="45_flow_diagram2.png" /></ac:image>&nbsp;</p><p>Both upstream and downstream Columns show the Table that contains them. The edge from Column to Table was always traversed.&nbsp;</p><p>&nbsp;</p><h3>Among the list of diagram layout options, 'Flow/Context' seems to be special. What is so special about it?&nbsp;</h3><p>A: Indeed, 'Flow/Context' is a special layout, with specific behavior.<br />If you set the diagram layout to 'Flow/Context', the flow nodes (nodes that are in the 'Flow' layout region) are depicted as a left-to-right hierarchy in the lower half of the diagram and the context nodes are all in the top half of the diagram.&nbsp;</p><p>&nbsp;</p><h3><strong>Can I direct a diagram view to show certain related assets as 'boxes in boxes'?</strong></h3><p>A: Yes. For example, you can further enhance the layout of the above diagram by depicting the Table as a box around its columns:&nbsp;</p><p><ac:image ac:width="700"><ri:attachment ri:filename="45_flow_view3.png" /></ac:image></p><p>You can achieve this view by editing the view in JSON form. In the section for the edge from Table Column to Database Table, you add the following name/value pair:&nbsp;</p><pre>&quot;style&quot;: &quot;reversed-box&quot;</pre><p>This view results in below diagram:&nbsp;</p><p><ac:image ac:width="900"><ri:attachment ri:filename="45_flow_diagram3.png" /></ac:image></p><p>&nbsp;</p><p>&nbsp;</p><p>Note that the flow is no longer purely left to right. The Order-tbl contains both columns that are a source, as well as columns that are a target. <br />To keep all columns of Order-tbl in a single box in the middle of the diagram, one arrow now goes from right to left.&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p>